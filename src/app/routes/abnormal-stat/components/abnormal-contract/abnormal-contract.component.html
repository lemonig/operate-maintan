<div class="page_warp">
  <nz-page-header [nzSubtitle]="nzSubtitle"> </nz-page-header>
  <nz-card>
    <div class="query_warp">
      <span>创建时间：</span>
      <nz-range-picker [(ngModel)]="dateRange"></nz-range-picker>&nbsp;&nbsp;&nbsp;&nbsp;
      <button nz-button nzType="primary" (click)="search()">查询</button>
      <button nz-button nzType="default" (click)="download()">导出</button>
    </div>
    <nz-table class="table_warp" #basicTable [nzData]="tableData" [nzLoading]="loading" [(nzPageIndex)]="q.pageIndex"
      [(nzPageSize)]="q.pageSize">
      <thead>
        <tr style="position: relative;" appTableScroll>
          <th>序号</th>
          <th>省份</th>
          <th>合同名称</th>
          <th>全部</th>
          <th>待处理</th>
          <th>处理中</th>
          <th>非异常</th>
          <th>已修复</th>
          <th>已关闭</th>
          <th>已终止</th>
          <th>完成率</th>
          <th>按时完成率</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of basicTable.data;index as i">
          <td>{{i + 1 + ((q.pageIndex-1) * q.pageSize)}}</td>
          <td>{{data.title}}</td>
          <td><a (click)="goAbnormalAllPage()">{{data.total}}</a></td>
          <td>{{data.state_todo}}</td>
          <td>{{data.state_doing}}</td>
          <td>{{data.state_noterror}}</td>
          <td>{{data.state_fixed}}</td>
          <td>{{data.state_confirmed}}</td>
        </tr>
      </tbody>
    </nz-table>
  </nz-card>
</div>

<ng-template #nzSubtitle>
  <nz-breadcrumb nzSeparator=">">
    <span class="CPosition">当前位置 :</span>
    <nz-breadcrumb-item>
      异常任务
    </nz-breadcrumb-item>
    <nz-breadcrumb-item>
      异常统计
    </nz-breadcrumb-item>
  </nz-breadcrumb>
</ng-template>