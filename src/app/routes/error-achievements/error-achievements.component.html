<div class="page_warp">
    <!-- <nz-page-header [nzSubtitle]="车辆使用统计"> </nz-page-header> -->
    <nz-card>
      <div class="query_warp">
        <div class="searchItem itemSpace">
          <span>统计月份：</span>
          <!-- <nz-month-picker [(ngModel)]="startDate" [nzFormat]="'YYYY-MM'"   nzPlaceHolder="选择日期" ></nz-month-picker> &nbsp;&nbsp; -->
          <nz-range-picker [(ngModel)]="dateRange"></nz-range-picker>&nbsp;&nbsp;
          <button nz-button nzType="primary" (click)="search()">查询</button>
          <button nz-button nzType="default" (click)="download()" >导出</button>
        </div>
      </div>
      <nz-table class="table_warp" #basicTable [nzData]="tableData" [nzLoading]="loading" [(nzPageIndex)]="q.pageIndex"
        [(nzTotal)]="q.total" [(nzPageSize)]="q.pageSize" [nzShowSizeChanger]="true" [nzFrontPagination]="false"
        (nzPageIndexChange)="pageIndexChange($event)" (nzPageSizeChange)="pageSizeChange($event)" >
        <thead>
          <tr style="position: relative;" appTableScroll>
            <th>序号</th>
            <th>所属</th>
            <th>姓名</th>
            <th>全部</th>
            <th>待处理</th>
            <th>处理中</th>
            <th>已修复</th>
            <th>非异常</th>
            <th>已确认</th>
            <th>已终止</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of basicTable.data;index as i">
            <td>{{i + 1 + ((pageIndex-1) * 20)}}</td>
            <td>{{data.company}}</td>
            <td>{{data.nickname}}</td>
            <td>{{data.total}}</td>
            <td>{{data.state_todo}}</td>
            <td>{{data.state_doing}}</td>
            <td>{{data.state_fixed}}</td>
            <td>{{data.state_noterror}}</td>
            <td>{{data.state_confirmed}}</td>
            <td>{{data.state_terminated}}</td>
          </tr>
        </tbody>
      </nz-table>
    </nz-card>
  </div>
