<div class="page_warp">
    <!-- <nz-page-header [nzSubtitle]="站点费用"> </nz-page-header> -->
    <nz-card>
      <div class="query_warp">
        <div class="searchItem itemSpace">
          <span>上报时间：</span>
          <nz-range-picker [(ngModel)]="dateRange"></nz-range-picker>
          <button nz-button nzType="primary" (click)="search()">查询</button>
          <button nz-button nzType="default" (click)="download()"  >导出</button>
        </div>
      </div>
      <nz-table class="table_warp" #basicTable [nzData]="tableData" [nzLoading]="loading" [(nzPageIndex)]="q.pageIndex"
        [(nzTotal)]="q.total" [(nzPageSize)]="q.pageSize" [nzShowSizeChanger]="true" [nzFrontPagination]="false"
        (nzPageIndexChange)="pageIndexChange($event)" (nzPageSizeChange)="pageSizeChange($event)">
        <thead>
          <tr style="position: relative;" appTableScroll>
            <th>序号</th>
            <th>发生站点</th>
            <th>费用类型</th>
            <th>金额</th>
            <th>支付日期</th>
            <th>预计下次支付</th>
            <th>项目号</th>
            <th>所属阶段</th>
            <th>备注</th>
            <th>上报人</th>
            <th>上报时间</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of basicTable.data;index as i">
            <td>{{i + 1 + ((q.pageIndex-1) * q.pageSize)}}</td>
            <td>{{data.station}}</td>
            <td>{{data.fee_type_str}}</td>
            <td>{{data.money}}</td>
            <td>{{data.pay_date}}</td>
            <td>{{data.next_pay_date}}</td>
            <td>{{data.contract_num}}</td>
            <td>{{data.stage_str}}</td>
            <td>{{data.description}}</td>
            <td>{{data.user?.nickname}}</td>
            <td>{{data.gmt_create | date:'yyyy-MM-dd HH:mm'}}</td>
          </tr>
        </tbody>
      </nz-table>
    </nz-card>
  </div>
  